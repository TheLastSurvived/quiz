{% extends 'base.html' %}
{% block title %}
{{quiz.title}}
{% endblock %}



{% block main %} 
<div class="container">
    {% if question %}
    <div class="quiz-box m-auto my-3" id="quiz">
        <div class="quiz-header">
            <h2 id="question" class="text-center">Question text</h2>
            <ul class="list-group list-group-flush">
                <li class="list-group-item">
                    <input type="radio" name="answer" id="a" class="answer">
                    <label for="a" id="a_text">Question</label>
                </li >
                <li class="list-group-item">
                    <input type="radio" name="answer" id="b" class="answer">
                    <label for="b" id="b_text">Question</label>
                </li>
                <li class="list-group-item ">
                    <input type="radio" name="answer" id="c" class="answer">
                    <label for="c" id="c_text">Question</label>
                </li>
            </ul>
        </div>
        <button id="submit" class="btn btn-primary m-5 text-center">Ответить</button>
    </div>
    {%else%}
        <div class="text-center">
            <h2>Вопросы еще не добавлены!</h2>
        </div>
    {%endif%}


    <p class="my-5 text-center">

        <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample1" aria-expanded="false" aria-controls="collapseExample">
          Список вопросов
        </button>
        <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample2" aria-expanded="false" aria-controls="collapseExample">
            Добавить вопрос
          </button>
      </p>
      <div class="collapse" id="collapseExample1">
        <div class="card card-body">
            <table class="table text-center my-5">
                <thead>
                  <tr>
                    <th scope="col">Вопрос</th>
                    <th scope="col">Вариант А</th>
                    <th scope="col">Вариант B</th>
                    <th scope="col">Вариант С</th>
                    <th scope="col">Правильный вариант</th>
                    <th scope="col">#</th>
                  </tr>
                </thead>
                <tbody>
                    {%for el in question%}
                  <tr>
                    <td>{{el.question}}</td>
                    <td>{{el.a}}</td>
                    <td>{{el.b}}</td>
                    <td>{{el.c}}</td>
                    <td>{{el.correct}}</td>
                    <td><a href="/delete-question/{{el.id}}/{{quiz.id}}" class="link-danger">Удалить</a></td>
                  </tr>
                  {%endfor%}
                </tbody>
              </table>        </div>
      </div>

      <div class="collapse" id="collapseExample2">
        <div class="card card-body">
            <div class="add-question w-50 mx-auto my-5">
                <form class="" method="post">
                    <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Название вопроса</label>
                        <input type="text" name="question" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" required>
                      </div>
                      <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Вариант A</label>
                        <input type="text" name="A" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" required>
                      </div>
                      <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Вариант B</label>
                        <input type="text" name="B" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" required>
                      </div>
                      <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Вариант C</label>
                        <input type="text" name="C" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" required>
                      </div>
                      <div class="mb-3">
                        <label for="exampleInputEmail1" class="form-label">Правильный вариант</label>
                        <select id="" class="form-select"  name="correct" id="exampleInputEmail1" >
                            <option value="a">A</option>
                            <option value="b">B</option>
                            <option value="c">C</option>
        
                          </select>
                      </div>
        
                    <button type="submit" class="btn btn-primary">Добавить</button>
                  </form>
            </div>
        </div>        </div>
      </div>

    

 
<script>
     const quizData = [];
</script>
{%for el in question%}
<script>
    quizData.push(
        {
            question: "{{el.question}}",
            a: "{{el.a}}",
            b: "{{el.b}}",
            c: "{{el.c}}",
            correct: "{{el.correct}}",
        }
    );
</script>
{%endfor%}
<script src="../static/js/index.js"></script>
{% endblock %}